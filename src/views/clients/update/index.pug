extends ../_layout.pug

block stylesheets
  link(rel='stylesheet', href='/css/jquery-ui.min.css')

block scripts
  script(src='/js/jquery-ui.min.js')
  script(src='/js/datepicker-es.js')
  script.
    $(function() {
      $.datepicker.setDefaults( $.datepicker.regional[ "es" ] );
      $('.birth_date-calendar').datepicker({
        dateFormat: "dd/mm/yy",
        changeMonth: true,
        changeYear: true,
        showButtonPanel: true,
        onChangeMonthYear: function (year, month, inst) {
            var date = $(".birth_date-calendar").val();
            if ($.trim(date) != "") {
                var newDate = inst.currentDay + "/" + (month < 10 ? "0" + month : month) + "/" + year;
                $(".birth_date-calendar").val(newDate);
            }
        }
      });
    });

block container

  if errors
    ul.my-errors
      for error in errors
        li= error.msg

  h3= title

  if typeof message !== 'undefined'
    div.alert.alert-success= message

  form(
    action=`/clients/${data.id}/update`
    method="POST"
  )

    div.form-group
      label(for="name") Nombre:
      input(
        type="text"
        id="name"
        name="name"
        class="form-control"
        placeholder="Ingrese su nombre"
        value=data.name
      )

    div.form-group
      label(for="surname") Apellido:
      input(
        type="text"
        id="surname"
        name="surname"
        class="form-control"
        placeholder="Ingrese su apellido"
        value=data.surname
      )

    div.form-group
      label(for="birth_date") Fecha de nacimiento:
      input(
        type="text"
        id="birth_date"
        name="birth_date"
        class="form-control birth_date-calendar"
        placeholder="Ingrese su fecha de nacimiento"
        value=data.birth_date
        autocomplete="off"
      )

    div.form-group
      label(for="email") Email:
      input(
        type="text"
        id="email"
        name="email"
        class="form-control"
        placeholder="Ingrese su email"
        value=data.email
      )

    div.form-group
      label(for="document_number") Numero de documento:
      input(
        type="text"
        id="document_number"
        name="document_number"
        class="form-control"
        placeholder="Ingrese su numero de documento"
        value=data.document_number
      )

    div.form-group
      label(for="phone") Telefono:
      input(
        type="text"
        id="phone"
        name="phone"
        class="form-control"
        placeholder="Ingrese su telefono"
        value=data.phone
      )

    div.form-group
      label(for="address") Direccion:
      textarea(
        id="address"
        name="address"
        class="form-control"
        placeholder="Ingrese su direccion"
      )= data.address

    br

    div.form-group
      input(
        type="submit"
        value="Guardar cambios"
        class="btn btn-lg btn-primary btn-block"
      )